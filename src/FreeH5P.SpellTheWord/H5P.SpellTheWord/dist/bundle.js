!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";var o,n=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function s(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},o=[],n=0;n<e.length;n++){var i=e[n],l=t.base?i[0]+t.base:i[0],c=r[l]||0,p="".concat(l," ").concat(c);r[l]=c+1;var u=s(p),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(d)):a.push({identifier:p,updater:v(d,t),references:1}),o.push(p)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var n=r.nc;n&&(o.nonce=n)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var p,u=(p=[],function(e,t){return p[e]=t,p.filter(Boolean).join("\n")});function d(e,t,r,o){var n=r?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var i=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,r){var o=r.css,n=r.media,i=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,b=0;function v(e,t){var r,o,n;if(t.singleton){var i=b++;r=h||(h=c(t)),o=d.bind(null,r,i,!1),n=d.bind(null,r,i,!0)}else r=c(t),o=f.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<r.length;o++){var n=s(r[o]);a[n].references--}for(var i=l(e,t),c=0;c<r.length;c++){var p=s(r[c]);0===a[p].references&&(a[p].updater(),a.splice(p,1))}r=i}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var n=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[r].concat(i).concat([n]).join("\n")}var a,s,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,o){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&n[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){var o=r(0),n=r(3);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};o(n,i);e.exports=n.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,'.flh5p-app{padding:16px;font-family:"Noto Sans",sans-serif;color:#040214}.flh5p-letters__dropzone,.flh5p-letters__dragzone{display:inline-flex;flex-wrap:nowrap;width:auto;margin:8px auto;flex:1 0 100%;justify-content:center}.flh5p-letters__dragzone{margin-top:32px}.flh5p-words{display:flex;overflow-x:auto;flex-wrap:nowrap;padding:24px 0;position:relative;min-height:580px}.flh5p-footer{padding:24px 0;border-top:1px solid #DADCE7}.flh5p-navigation{display:block;height:64px;line-height:64px;position:relative}.flh5p-nav-button--prev{left:8px;float:left}.flh5p-nav-button--next{right:8px;float:right}.flh5p-scorebar{padding:24px 0}.flh5p-scorebar--hidden{visibility:hidden;display:none}\n',""]),e.exports=t},function(e,t,r){var o=r(0),n=r(5);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};o(n,i);e.exports=n.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,'.flh5p-word{display:inline-flex;align-items:center;justify-content:center;flex-wrap:wrap;overflow:hidden;flex:1 0 100%;position:absolute;top:0;left:0;right:0;bottom:0;z-index:2;transition:all ease 0.5s;opacity:0;pointer-events:none;visibility:hidden}.flh5p-word--visible{opacity:1;pointer-events:all;visibility:visible;position:relative}.flh5p-word__image{flex:1 0 100%;border-radius:10px;overflow:hidden}.flh5p-word__image img{max-width:100%;height:auto;max-height:320px;display:block;position:relative;margin:0 auto 16px;border-radius:10px}.flh5p-word__textclue{flex:1 0 100%;font-size:20px;text-align:center;margin-bottom:16px;font-family:"Noto Sans",sans-serif;font-weight:400;font-size:16px;line-height:164.5%}\n',""]),e.exports=t},function(e,t,r){var o=r(0),n=r(7);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};o(n,i);e.exports=n.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,'.flh5p-letter{width:48px;height:48px;flex:0 0 48px;margin-right:8px;border-radius:8px;background:#FFFFFF;box-shadow:0px 4px 8px rgba(24,27,94,0.07);border:1px solid #e7e7e7;font-size:18px;line-height:48px;font-weight:600}.flh5p-letter--drag{font-size:20px;font-weight:600;text-transform:uppercase;background:#FF8E6A;color:#040214;text-align:center}.flh5p-letter--drag:active,.flh5p-letter--drag:hover{cursor:move}.flh5p-letter--blank{background-color:transparent;border-color:transparent;box-shadow:none}.flh5p-letter.h5p-correct{border:none;box-shadow:none;background-color:#b6e4ce;border-color:#b6e4ce;color:#255c41}.flh5p-letter.h5p-correct:after{content:"\\f00c";background:#b6e4ce;color:#255c41}.flh5p-letter.h5p-correct>.flh5p-letter{background-color:#b6e4ce;border-color:#b6e4ce;color:#255c41;box-shadow:0 0.1em 0 #a2bdb0}.flh5p-letter.h5p-wrong{color:#b71c1c;background:#fbd7d8;border-color:#fbd7d8;box-shadow:0 0.1em 0 #deb8b8}.flh5p-letter.h5p-wrong:after{content:"\\f00d"}.flh5p-letter.h5p-wrong>.flh5p-letter{color:#b71c1c;background:#fbd7d8;border-color:#fbd7d8;box-shadow:0 0.1em 0 #deb8b8}.flh5p-letter.h5p-wrong,.flh5p-letter.h5p-correct{position:relative}.flh5p-letter.h5p-wrong:after,.flh5p-letter.h5p-correct:after{font-family:\'H5PFontAwesome4\';font-size:.75em;font-weight:400;position:absolute;right:.1em;bottom:0;background:inherit;border-radius:.25em;line-height:1;padding:.15em 0 0 .2em}\n',""]),e.exports=t},function(e,t,r){"use strict";r.r(t);r(2),r(4);r(6);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=H5P.jQuery,a=function(){function e(t,r,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"letter",void 0),n(this,"randomPosition",void 0),n(this,"_element",void 0),n(this,"classes",["flh5p-letter"]),n(this,"droppedTextValue",void 0),this.letter=t,o&&o.droppable?t&&" "!==t?this.classes.push("flh5p-letter--drop"):this.classes.push("flh5p-letter--blank"):o&&o.draggable?this.classes.push("flh5p-letter--drag"):t||this.classes.push("flh5p-letter--blank"),this._element=i("<div>",{class:this.classes.join(" ")}),o&&o.draggable&&(this._element.html(t),this._element.draggable({revert:"invalid"}),this._element.dblclick((function(){console.log("double click")}))),o&&o.droppable&&" "!==t&&this._element.droppable({accept:".flh5p-letter--drag",drop:function(e,t){var r=e.target;i(t.draggable[0]).css({left:0,top:0}),i(r).append(t.draggable[0]),a.droppedTextValue=t.draggable[0].textContent}}),r.append(this._element)}var t,r,a;return t=e,(r=[{key:"dropped",value:function(){console.log(this),console.log("dropped")}},{key:"getText",value:function(){return this.droppedTextValue}},{key:"isCorrect",value:function(){this._element.hasClass("h5p-wrong")&&this._element.removeClass("h5p-wrong"),this._element.addClass("h5p-correct")}},{key:"isWrong",value:function(){this._element.hasClass("h5p-correct")&&this._element.removeClass("h5p-correct"),this._element.addClass("h5p-wrong")}},{key:"reset",value:function(){this._element.removeClass(["h5p-wrong","h5p-correct"])}}])&&o(t.prototype,r),a&&o(t,a),e}();function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=H5P.jQuery,d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"$wrapper",void 0),p(this,"$wordcontainer",void 0),p(this,"$scorebarWrapper",void 0),p(this,"$scoreBar",void 0),p(this,"_element",void 0),p(this,"classes",["flh5p-word"]),p(this,"_visibleClass","flh5p-word--visible"),p(this,"config",void 0),p(this,"points",void 0),p(this,"maxPoints",void 0),p(this,"isComplete",!1),p(this,"correctSpelling",void 0),p(this,"dropZones",[]),this.config=t,this.$wrapper=r,this.config&&this.config.word&&(this.correctSpelling=s(this.config.word.split(""))),this.render()}var t,r,o;return t=e,(r=[{key:"render",value:function(){var e=this,t=this.config,r=t.word,o=t.image,n=t.text,i=u("<div>",{class:this.classes.join(" ")});this.$wordcontainer=i;var l=u("<div>",{class:"flh5p-letters__dropzone"});if(o&&o.path){var c=u("<div>",{class:"flh5p-word__image"});c.append(u("<img>",{class:"",src:H5P.getPath(o.path,$.id)})),i.append(c)}n&&i.append('<p class="flh5p-word__textclue">'+n+"</p>"),r.split("").map((function(t){e.dropZones.push(new a(t,l,{droppable:!0}))}));var p=function(e){for(var t,r,o=e.length;0!==o;)r=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[r],e[r]=t;return e}(s(r.split(""))),d=u("<div>",{class:"flh5p-letters__dragzone"});p.map((function(e){" "!==e&&new a(e,d,{draggable:!0})}));var f=u("<div>",{class:"flh5p-scorebar flh5p-scorebar--hidden"}),h=this.config&&this.config.word?this.config.word.split("").filter((function(e){return" "!==e})).length:0;this.$scorebarWrapper=f,this.$scoreBar=H5P.JoubelUI.createScoreBar(h,"Letters right","helpText","scoreExplanationButtonLabel"),this.$scoreBar.appendTo(f),i.append(l),i.append(d),i.append(f),this.$wrapper.append(i)}},{key:"calculateScore",value:function(){var e=this,t=this.dropZones.map((function(e){return e.getText()})),r=0;return this.correctSpelling.map((function(o,n){o===t[n]&&" "!==o?(r+=1,e.dropZones[n].isCorrect()):" "!==o&&e.dropZones[n].isWrong()})),this.points=r,this.$scoreBar.setScore(r),this.isComplete=!0,this.toggleScorebar(),r}},{key:"reset",value:function(){this.$wordcontainer.remove(),this.dropZones=[],this.isComplete=!1,this.points=0,this.$scoreBar.setScore(0),this.toggleScorebar(),this.render()}},{key:"toggleScorebar",value:function(){this.isComplete?this.$scorebarWrapper.removeClass("flh5p-scorebar--hidden"):this.$scorebarWrapper.addClass("flh5p-scorebar--hidden")}},{key:"show",value:function(){this.$wordcontainer.hasClass(this._visibleClass)||this.$wordcontainer.addClass(this._visibleClass)}},{key:"hide",value:function(){this.$wordcontainer.removeClass(this._visibleClass)}}])&&c(t.prototype,r),o&&c(t,o),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=S(e);if(t){var n=S(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=H5P.jQuery,$={id:""},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,H5P.EventDispatcher);var t,r,o,n=y(i);function i(e,t){var r;return v(this,i),_(x(r=n.call(this)),"letters",[]),_(x(r),"randomised",[]),_(x(r),"correctSpelling",[]),_(x(r),"id",void 0),_(x(r),"config",void 0),_(x(r),"renderedWords",[]),_(x(r),"activeWordIndex",void 0),_(x(r),"isCompleted",!1),_(x(r),"$scorebarWrapper",void 0),_(x(r),"scoreBar",void 0),_(x(r),"$wrapper",void 0),_(x(r),"$wordsWrapper",void 0),_(x(r),"$prevButton",void 0),_(x(r),"$nextButton",void 0),_(x(r),"$processbar",void 0),_(x(r),"attach",(function(e){r.$wrapper=e,e.addClass("flh5p-app"),r.$wordsWrapper=C("<div>",{class:"flh5p-words"}),r.$headerElement=C("<div>",{class:"flh5p-header"}),r.$bottomBar=C("<div>",{class:"flh5p-footer"}),r.setupWords(r.config.words),r.createBottomBar(),r.createNavigation(),e.append(r.$headerElement),e.append(r.$wordsWrapper),e.append(r.$bottomBar)})),_(x(r),"createBottomBar",(function(){var e=x(r),t=C("<div>",{class:"flh5p-scorebar flh5p-scorebar--hidden"}),o=H5P.JoubelUI.createButton({title:"Get score",html:"Score",click:function(){e.calculateScore()}}),n=H5P.JoubelUI.createButton({title:"Reset game",html:"Reset",click:function(){e.resetTask()}}),i=h(r.config.words).map((function(e){return e.word.split("").filter((function(e){return" "!==e})).length}));r.scoreBar=H5P.JoubelUI.createScoreBar(i.reduce((function(e,t){return e+t}),0),"Letters right","helpText","scoreExplanationButtonLabel"),r.scoreBar.appendTo(t),r.$bottomBar.append(t),r.$scorebarWrapper=t,r.$bottomBar.append(o),r.$bottomBar.append(n)})),_(x(r),"createNavigation",(function(){var e=x(r),t=r.$wrapper,o=C("<div>",{class:"flh5p-navigation"}),n=H5P.JoubelUI.createButton({html:"Previous word",title:"Previous word",class:"flh5p-nav-button flh5p-nav-button--prev",click:function(){var t=e.activeWordIndex,r=e.renderedWords;t-1>-1&&(r[t].hide(),r[t-1].show(),e.activeWordIndex=t-1,e.$processbar.setProgress(t))}}),i=H5P.JoubelUI.createButton({html:"Next word",title:"Next word",class:"flh5p-nav-button flh5p-nav-button--next",click:function(){var t=e.activeWordIndex,o=e.renderedWords;o[t+1]&&(o[t].hide(),o[t+1].show(),e.activeWordIndex=t+1,e.$processbar.next(),o[t+2]||console.log("Disable ",x(r)))}}),a=H5P.JoubelUI.createProgressbar(r.config.words.length,{});r.$prevButton=n,r.$nextButton=i,r.$processbar=a,r.$processbar.setProgress(1),o.append(n),a.appendTo(o),o.append(i),t.append(o)})),_(x(r),"setupWords",(function(e){var t=r.$wordsWrapper;e.map((function(e){r.renderedWords.push(new d(e,t))})),r.renderedWords[0].show(),r.activeWordIndex=0})),_(x(r),"resetAll",(function(){r.renderedWords.map((function(e){return e.reset()})),r.renderedWords[r.activeWordIndex].hide(),r.renderedWords[0].show(),r.isCompleted=!1,r.scoreBar.setScore(0),r.activeWordIndex=0,r.$processbar.setProgress(1),r.toggleScorebar()})),_(x(r),"calculateScore",(function(){var e=r.renderedWords.map((function(e){return e.calculateScore()})).reduce((function(e,t){return e+t}),0);r.points=e,r.scoreBar.setScore(e),r.isCompleted=!0,r.toggleScorebar()})),_(x(r),"toggleScorebar",(function(){r.isCompleted?r.$scorebarWrapper.removeClass("flh5p-scorebar--hidden"):r.$scorebarWrapper.addClass("flh5p-scorebar--hidden")})),_(x(r),"getAnswerGiven",(function(){return r.isCompleted})),_(x(r),"getScore",(function(){return r.points})),_(x(r),"getMaxScore",(function(){return 9})),_(x(r),"showSolutions",(function(){console.log("show showSolutions")})),_(x(r),"resetTask",(function(){r.resetAll()})),r.config=C.extend(!0,{},{greeting:"Hello world!",image:null},e),r.id=t,$.id=t,r}return t=i,(r=[{key:"getXAPIData",value:function(){console.log("getXAPIData")}}])&&g(t.prototype,r),o&&g(t,o),i}();H5P=H5P||{},H5P.SpellTheWord=j}]);